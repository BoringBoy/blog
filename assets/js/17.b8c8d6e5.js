(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{332:function(s,a,n){"use strict";n.r(a);var e=n(7),t=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("ul",[a("li",[a("a",{attrs:{href:"#%E9%87%8D%E8%A6%81%E5%91%BD%E4%BB%A4"}},[s._v("重要命令")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#systemctl-%E5%91%BD%E4%BB%A4"}},[s._v("systemctl 命令")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E6%97%A5%E5%BF%97%E6%9F%A5%E7%9C%8B"}},[s._v("日志查看")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E6%B7%BB%E5%8A%A0%E6%8C%81%E4%B9%85%E5%8C%96%E5%88%AB%E5%90%8D"}},[s._v("添加持久化别名")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#wget-%E4%BD%BF%E7%94%A8"}},[s._v("wget 使用")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E8%BF%9B%E7%A8%8B%E7%AB%AF%E5%8F%A3%E7%AE%A1%E7%90%86"}},[s._v("进程&端口管理")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E9%98%B2%E7%81%AB%E5%A2%99%E7%AE%A1%E7%90%86"}},[s._v("防火墙管理")])])])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E5%8C%85%E7%AE%A1%E7%90%86"}},[s._v("包管理")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#redhat%E7%B3%BB%E5%88%97"}},[s._v("redhat系列")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#ubuntu%E7%B3%BB%E5%88%97"}},[s._v("ubuntu系列")])])])]),s._v(" "),a("li",[a("a",{attrs:{href:"#shell%E7%BC%96%E7%A8%8B"}},[s._v("shell编程")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#shell-%E5%9F%BA%E7%A1%80"}},[s._v("shell 基础")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#sed%E6%B5%81%E7%BC%96%E8%BE%91"}},[s._v("sed流编辑")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"}},[s._v("基本语法：")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E4%BD%BF%E7%94%A8%E5%AE%9E%E4%BE%8B"}},[s._v("使用实例")])])])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F"}},[s._v("正则表达式")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#%E5%9F%BA%E6%9C%AC%E6%AD%A3%E5%88%99"}},[s._v("基本正则")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E6%89%A9%E5%B1%95%E6%AD%A3%E5%88%99"}},[s._v("扩展正则")])])])]),s._v(" "),a("li",[a("a",{attrs:{href:"#gawk"}},[s._v("gawk")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#grep"}},[s._v("grep")])])])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E7%94%A8%E9%80%94"}},[s._v("用途")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E6%95%85%E9%9A%9C%E6%8E%92%E6%9F%A5"}},[s._v("故障排查")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%AE%95%E6%9C%BA%E4%BA%86%E6%80%8E%E4%B9%88%E5%8A%9E"}},[s._v("服务器宕机了怎么办？")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#linux%E7%BB%8F%E5%B8%B8%E6%AD%BB%E6%9C%BA%E5%8D%A1%E4%BD%8F"}},[s._v("Linux经常死机、卡住")])])])])]),s._v(" "),a("h2",{attrs:{id:"重要命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#重要命令"}},[s._v("#")]),s._v(" 重要命令")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("网卡重启"),a("br"),s._v(" "),a("code",[s._v("service network restart")])])]),s._v(" "),a("li",[a("p",[s._v("网卡配置"),a("br"),s._v(" "),a("code",[s._v("vim /etc/sysconfig/network-scripts/[网卡名称]")])])]),s._v(" "),a("li",[a("p",[s._v("sshd配置\n"),a("code",[s._v("vim /etc/ssh/sshd_config")])])]),s._v(" "),a("li",[a("p",[s._v("添加.sh 至 systemctl")])])]),s._v(" "),a("p",[s._v("思路："),a("br"),s._v("\n(1)创建并编写xxx.service 文件，并将其放在/usr/lib/systemd/system/目录下"),a("br"),s._v("\n(2)使用"),a("code",[s._v("systemctl daemon-reload")]),s._v("重载服务"),a("br"),s._v("\n(3)使用"),a("code",[s._v("systemctl start/stop/status ...")]),s._v("等命令"),a("br"),s._v("\n参考链接：")]),s._v(" "),a("blockquote",[a("p",[s._v("https://www.cnblogs.com/keystone/p/13158117.html")])]),s._v(" "),a("ol",[a("li",[s._v("关机命令")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("#立即关机\nsudo shutdown -h now\n\n#重启系统\nsudo reboot\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h3",{attrs:{id:"systemctl-命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#systemctl-命令"}},[s._v("#")]),s._v(" systemctl 命令")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("#启动服务\nsystemctl start xxx.service\n\n#停止服务\nsystemctl stop xxx.service\n\n#重启服务\nsystemctl restart xxx.service\n\n#添加服务开机自启动\nsystemctl enable xxx.service\n\n#不开机自启\nsystemctl disable xxx.service\n\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("h3",{attrs:{id:"日志查看"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#日志查看"}},[s._v("#")]),s._v(" 日志查看")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("#查看单个服务启动停止日志\njournalctl -u xxx.service\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"添加持久化别名"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#添加持久化别名"}},[s._v("#")]),s._v(" 添加持久化别名")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("#1. 进入用户主目录\ncd ~\n\n#2. 文本编辑器打开 \".bashrc\" 文件：\nvim .bashrc\n\n#3. 在文件末尾添加别名，例如\nalias ll='ls -alF'\n\n#4. 保存退出\n\n#5. 重载配置\nsource .bashrc\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("ol",{attrs:{start:"3"}},[a("li",[s._v("在文件末尾添加别名")])]),s._v(" "),a("h3",{attrs:{id:"wget-使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#wget-使用"}},[s._v("#")]),s._v(" wget 使用")]),s._v(" "),a("p",[s._v("参考链接：")]),s._v(" "),a("blockquote",[a("p",[s._v("https://www.cnblogs.com/lukelook/p/11201098.html")])]),s._v(" "),a("h3",{attrs:{id:"进程-端口管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#进程-端口管理"}},[s._v("#")]),s._v(" 进程&端口管理")]),s._v(" "),a("ol",[a("li",[s._v("查询进程/端口")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# 查看进程id\nps -aux | grep <进程名称>\nps -ef | grep <进程名称>\n\n# 根据进程id查询占用端口\nnetstat -tulnp | grep <进程id>\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("blockquote",[a("p",[s._v("ps 命令通常用于查看系统中运行的进程信息（如进程 ID、进程名称、占用的 CPU 、内存等等），而 netstat 命令主要用于显示系统网络连接状态（比如 IP 地址、端口号、连接状态等信息），可以用来查看网络连接是否正常、哪些端口被占用以及与哪些 IP 地址建立了连接等。")])]),s._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[s._v("杀死进程"),a("br"),s._v(" "),a("code",[s._v("kill -9 pid")])])]),s._v(" "),a("h3",{attrs:{id:"防火墙管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#防火墙管理"}},[s._v("#")]),s._v(" 防火墙管理")]),s._v(" "),a("ul",[a("li",[s._v("Centos7")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# 1. 已开放端口查询\nfirewall-cmd --list-ports --zone=public\n\n# 2. 添加端口\n# --permanent 选项表示将端口添加到永久规则中，使其在系统重启后仍然生效。\n\nfirewall-cmd --zone=public --add-port=8080/tcp --permanent\n\n# 3. 重载生效\nfirewall-cmd --reload\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("ul",[a("li",[s._v("Ubuntu")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("#查询\nsudo ufw status\n\n#开放\nsudo ufw allow 8080/tcp\n\n#重载\nsudo ufw reload\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("h2",{attrs:{id:"包管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#包管理"}},[s._v("#")]),s._v(" 包管理")]),s._v(" "),a("h3",{attrs:{id:"redhat系列"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#redhat系列"}},[s._v("#")]),s._v(" redhat系列")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("列出已安装包"),a("br"),s._v(" "),a("code",[s._v("yum list installed")])])]),s._v(" "),a("li")]),s._v(" "),a("h3",{attrs:{id:"ubuntu系列"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ubuntu系列"}},[s._v("#")]),s._v(" ubuntu系列")]),s._v(" "),a("h2",{attrs:{id:"shell编程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#shell编程"}},[s._v("#")]),s._v(" shell编程")]),s._v(" "),a("h3",{attrs:{id:"shell-基础"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#shell-基础"}},[s._v("#")]),s._v(" shell 基础")]),s._v(" "),a("ol",[a("li",[a("p",[s._v(".sh 文件第一行需要声明所用 shell ，通常为："),a("code",[s._v("#!/bin/bash")])])]),s._v(" "),a("li",[a("p",[s._v("多个命令可用分号间隔并执行，如："),a("code",[s._v("A ; B ；C")]),s._v("。")])]),s._v(" "),a("li",[a("p",[s._v("执行.sh文件要给予其 x 权限，即："),a("code",[s._v("u + x")])])]),s._v(" "),a("li",[a("p",[s._v("取变量值方法为在变量前增加美元符号，例：$HOME,当存在冲突时，要加转义字符 "),a("code",[s._v('"\\"')])])]),s._v(" "),a("li",[a("p",[s._v("将命令赋值给变量的方法：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("(1)使用反引号字符（``）;\n(2)使用$()  \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("输入重定向，即将文件内容输出到命令中，基本语法为 "),a("code",[s._v("command < inputfile")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("(1)有两种输入重定向方式，分别为 < 和 << .\n 示例：对a.txt 文件中的文本进行排序\n sort < a.txt\n\n(2)内联输入重定向，语法为command << mark ,mark为指定的标记符，用来标记输入数据的开始和结束.\n示例：\n`wc << EOF\n>string1\n>string2\n>string3\n>EOF\n`\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("输出重定向，即将命令结果输出到文件中，基本语法为 "),a("code",[s._v("command > outputfile")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("（1）有两种重定向方式，分别为 > 和 >> .\n（2）两种方式的区别：> 是写入到文件，故而会清空原文件内容，>> 则是追加到文件末尾.\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("管道命令，用 | 符号将前一个命令的输出作为后一个命令的输入，基本语法为 "),a("code",[s._v("command1 | command2")])])]),s._v(" "),a("li",[a("p",[s._v("数学表达式操作,基本语法为："),a("code",[s._v("$[operation]")]),s._v("，即用中括号 括住数学表达式,示例：\n"),a("code",[s._v("var1=$[3 * 9]")])])]),s._v(" "),a("li",[a("p",[s._v("查看命令退出码 "),a("code",[s._v("$?")]),s._v("，用以判断命令是否正常结束。通常，退出码为0时表示命令成功结束，否则为命令执行出错异常退出;退出状态码区间 0~255。")])]),s._v(" "),a("li",[a("p",[s._v("可用 "),a("strong",[s._v("exit")]),s._v(" 指定退出码，例："),a("code",[s._v("exit 30")])])]),s._v(" "),a("li",[a("p",[s._v("if-then 语法结构")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("if command\nthen\n    commands\nfi\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("或")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("if command ; then\ncommands\nfi\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("if-then-else语法结构")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("if command \nthen \n    commands\nelse\n    commands\nfi\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("test 命令语法结构： "),a("code",[s._v("test conditions")]),s._v("  ，其主要用途为：")])])]),s._v(" "),a("ul",[a("li",[s._v("数值比较")]),s._v(" "),a("li",[s._v("字符串比较")]),s._v(" "),a("li",[s._v("文件比较"),a("br"),s._v("\n也可用另一种表达方式："),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("if [condition]\nthen\n    commands\nfi\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])])])]),s._v(" "),a("ol",{attrs:{start:"15"}},[a("li",[s._v("多条件判断语法")])]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[s._v("- `[condition1] && [condition2]`\n- `[condition1] || [condition2]`\n")])])]),a("ol",{attrs:{start:"16"}},[a("li",[a("p",[s._v("if-then 高级特性"),a("br"),s._v("\n（1）使用双括号运算数学表达式，基本语法为"),a("code",[s._v("((expression))")]),s._v("。示例：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("if (( $val ** 2 > 90))\nthen\n    ((val2 = $val * 10))\nfi\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("（2）使用双方括号进行模式匹配，基本语法为"),a("code",[s._v("[[expression]]")]),s._v("。示例：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("if [[ $USER == r* ]]\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("for 循环的基本语法：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("for i in list\ndo\n    commands\ndone\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("字段分隔符"),a("code",[s._v("IFS")]),s._v(" 用以分割长字符串")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("#默认分隔符为空格\n#当需要调整分隔符为回车或其他字符时，使用下面的代码改变IFS的值\nIFS=$'\\n'\n\n#可指定多个分隔符,将字符拼接起来即可，如：\nIFS=$'\\n':;\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("for 循环搭配通配符 ,示例：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("for f in /home/test/*\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("C语言风格for循环，示例：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("for ((i=1;i<10;i++))\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("while 循环语法：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("while test command\ndo\n    commands\ndone\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("until 语法：")])]),s._v(" "),a("li",[a("p",[s._v("case 语法：")])]),s._v(" "),a("li",[a("p",[s._v("break、continue使用 与其它语言相似，break可指定跳出层数。")])]),s._v(" "),a("li",[a("p",[s._v("循环输出处理方式")])])]),s._v(" "),a("ul",[a("li",[s._v("重定向方式，示例:"),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('for ((a=1;a<10;a++))\ndo\n    echo "a is $a"\ndone > demo.txt\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])])]),s._v(" "),a("li",[s._v("管线方式，示例："),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("for(....)\ndo\n    .....\ndone | sort\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])])])]),s._v(" "),a("ol",[a("li",[a("p",[s._v("命令行参数")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("$0")]),s._v(" : 程序名")]),s._v(" "),a("li",[a("strong",[s._v("$1-9")]),s._v(" : 参数1-参数9")]),s._v(" "),a("li",[a("strong",[s._v("${10-...}")]),s._v(" :超过9个参数的参数表示")]),s._v(" "),a("li",[a("strong",[s._v("$#")]),s._v(" : 表示参数个数")]),s._v(" "),a("li",[a("strong",[s._v("$*")]),s._v(" : 表示所有参数构成的单个字符串")]),s._v(" "),a("li",[a("strong",[s._v("$@")]),s._v(" : 表示所有参数构成的同一字符串的多个独立的单词")])])]),s._v(" "),a("li",[a("p",[s._v("读取用户输入\n(1)read 命令")]),s._v(" "),a("ul",[a("li",[s._v("read 提示"),a("br"),s._v(" "),a("code",[s._v('read -p "...." name')])]),s._v(" "),a("li",[s._v("read 超时 : -t后为设定的秒数"),a("br"),s._v(" "),a("code",[s._v('read -t 10 -p "" name')])]),s._v(" "),a("li",[s._v("read 隐藏输入\n"),a("code",[s._v('read -s -p "" password')])]),s._v(" "),a("li",[s._v("read 读取文件")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("cat file1 | while read line\ndo\n    .....\ndone\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("捕捉信号")])]),s._v(" "),a("li",[a("p",[s._v("后台运行脚本，在后面加 "),a("strong",[s._v("&")]),s._v(" 符号")])]),s._v(" "),a("li",[a("p",[s._v("定期执行命令：\n"),a("code",[s._v("crontab")])])]),s._v(" "),a("li",[a("p",[s._v("函数编程")])])]),s._v(" "),a("p",[s._v("(1)基本函数语法")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("function a{\n    commands\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("或")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("a(){\n    commands\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("(2)使用return 返回值"),a("br"),s._v("\n(3)使用echo 输出值"),a("br"),s._v("\n(4)局部变量和全局变量")]),s._v(" "),a("ul",[a("li",[s._v("局部变量定义需在变量前使用 "),a("code",[s._v("local")])])]),s._v(" "),a("p",[s._v("(5)变量的传递及处理\n(6)库文件创建/引入："),a("code",[s._v("source 或 .")])]),s._v(" "),a("h3",{attrs:{id:"sed流编辑"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sed流编辑"}},[s._v("#")]),s._v(" sed流编辑")]),s._v(" "),a("h4",{attrs:{id:"基本语法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基本语法"}},[s._v("#")]),s._v(" 基本语法：")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[s._v("` sed [option] [files]`  \n")])])]),a("h4",{attrs:{id:"使用实例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用实例"}},[s._v("#")]),s._v(" 使用实例")]),s._v(" "),a("ol",[a("li",[s._v("执行多个命令, "),a("code",[s._v("-e")]),s._v(" 选项"),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('sed -e "s/hello/hi/;s/dog/cat/" ./file.txt\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[s._v("执行命令文件，"),a("code",[s._v("-f")]),s._v(" 选项"),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("sed -f script.sed ./data.txt\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),s._v("执行"),a("code",[s._v('"cat script.sed"')]),s._v("，可看到文件中命令如下所示："),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("s/bb/aa/\ns/red/green/\n....\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])])]),s._v(" "),a("li",[s._v("多个命令还可以用下面组合的方式"),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("sed '3{\ns/local/global/\ns/hello/hi/\n....\n}' ./data.txt\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])])])]),s._v(" "),a("ul",[a("li",[a("p",[s._v("替换 (s)"),a("br"),s._v("\n（1）字符替换")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v(' sed "s/cat/dog/" ./a.txt \n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("（2）管线形式字符替换")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v(' echo "helloworld" | sed "s/hello/welcome/"\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("strong",[s._v("替换选项")])]),s._v(" "),a("ol",[a("li",[s._v("g  :替换所有匹配文本")]),s._v(" "),a("li",[s._v("数字  ：替换第几处匹配")]),s._v(" "),a("li",[s._v("w file  ：将替换结果写入到文件")])]),s._v(" "),a("p",[s._v("示例：将data.txt文件中的匹配结果写入到b.txt中")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('sed "s/dog/cat/w b.txt" ./data.txt\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("指定行替换")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('sed "2,$s/dog/cat/" ./data.txt\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("指定文本行替换")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('sed "/user/s/aaa/bbb/" ./data.txt\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("删除行 (d)")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("sed '3d' ./data.txt         #删除第三行\nsed '3,10d' ./data.txt      #删除3-10区间的行\nsed '/jack/d' ./data.txt    #删除包含“jack”的行\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("插入行 (i) ：指定行前增加新行")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('sed "3i\\hello world" ./data.txt     # 将特定行插入到data.txt的第三行前\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("附加行 (a) : 指定行后增加新行")])]),s._v(" "),a("li",[a("p",[s._v("修改行 (c) : 修改整行内容")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('sed "3c\\this is new line" ./data.txt\nsed "/home/c\\this is new line" ./data.txt\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("转换命令 (y): 字符一一映射的替换")])]),s._v(" "),a("li",[a("p",[s._v("打印行 (p)")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('#打印替换后的行\nsed -n "s/hello/world/p" ./data.txt\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])])])]),s._v(" "),a("h3",{attrs:{id:"正则表达式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#正则表达式"}},[s._v("#")]),s._v(" 正则表达式")]),s._v(" "),a("h4",{attrs:{id:"基本正则"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基本正则"}},[s._v("#")]),s._v(" 基本正则")]),s._v(" "),a("ol",[a("li",[s._v("行首(^)")]),s._v(" "),a("li",[s._v("行尾($)")]),s._v(" "),a("li",[s._v("点号(.) :匹配换行符外的任意单个字符")]),s._v(" "),a("li",[s._v("字符组([]) :匹配希望出现在方括号中的字符"),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('sed "s/[aA]rm/ban/" ./data.txt\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[s._v("排除型字符组,即匹配字符组外的字符，表现形式为字符组前面加 "),a("code",[s._v("^")]),s._v(" 字符。示例如下："),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("sed -n '/[^abc]at/p' ./data.txt\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[s._v("区间:用来匹配某个区间的字符，表现形式通常为区间首末字符中添加 "),a("code",[s._v("-")]),s._v(" 字符，示例如下："),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("sed -n '/[0-6]ye/p' ./data.txt\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[s._v("星号(*):"),a("br"),s._v("\n字符后面放置星号表示该字符必须在匹配模式的文本中出现0次或多次，示例如下："),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("sed -n '/u*nion/p' ./data.txt\n#可以匹配到\nunion aaab\nuunion abaf\nanion abga\n\n#不能匹配到\nuonion aiitap\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])])])]),s._v(" "),a("h4",{attrs:{id:"扩展正则"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#扩展正则"}},[s._v("#")]),s._v(" 扩展正则")]),s._v(" "),a("p",[a("em",[s._v("该部分适用于gwak,但不支持sed")])]),s._v(" "),a("ol",[a("li",[s._v("问号(?) :表示?前面的字符可以出现0次或1次，示例"),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("'/a?bp/'\n#可以匹配到\nabp kdkdkkd\naabp ldllgld\n\n#不可匹配到\naaabp jfallga\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])])]),s._v(" "),a("li",[s._v("加号(+):表示+前面字符出现1次或多次，至少需要出现1次")]),s._v(" "),a("li",[s._v("管道符号( | ) ：匹配其中一个模式")])]),s._v(" "),a("h3",{attrs:{id:"gawk"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gawk"}},[s._v("#")]),s._v(" gawk")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("基本语法")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("gawk options program file\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("可选变量")]),s._v(" "),a("p",[s._v("(1) -F :指定分隔符，默认分隔符为空格")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("#示例：使用冒号做分隔符\ngawk -F: '{print $1,$2}' /etc/passwd\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("(2) -f :用于从文件中读取程序")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("#示例:指定myscript.gawk 做程序文件\ngawk -F: -f ./myscript.gawk /etc/passwd\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("数据字段变量。\ngawk 默认以空格分割每一行的字段，其中"),a("br"),s._v("\n(1) $0 : 整个文本行"),a("br"),s._v("\n(2) $1 : 文本行第一个字段"),a("br"),s._v("\n(3) $n :文本行第n个字段"),a("br"),s._v("\n示例：")])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("    #假如存在以下一行文本\n    1 root      20   0  193724   6828   4180 S   0.0  0.4   0:03.76 systemd\n        \n    #使用gwak输出root,193724\n    gawk '{print $2,$5}'\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("ol",{attrs:{start:"4"}},[a("li",[s._v("BEGIN 和 END，它们分别用于程序执行前后的操作，示例如下：")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('gawk \'BEGIN{print "now start"}{print $0}END{print "end!"}\' /etc/passwd\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"grep"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#grep"}},[s._v("#")]),s._v(" grep")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("简介")])]),s._v(" "),a("li",[a("p",[s._v("语法规则"),a("br"),s._v("\ngrep [选项] pattern [文件名]")])]),s._v(" "),a("li",[a("p",[s._v("常用选项")])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("常用选项：\n　　-E ：开启扩展（Extend）的正则表达式。\n　　-i ：忽略大小写（ignore case）。\n　　-v ：反过来（invert），只打印没有匹配的，而匹配的反而不打印。\n　　-n ：显示行号\n　　-w ：被匹配的文本只能是单词，而不能是单词中的某一部分，如文本中有liker，而我搜寻的只是like，就可以使用-w选项来避免匹配liker\n　　-c ：显示总共有多少行被匹配到了，而不是显示被匹配到的内容，注意如果同时使用-cv选项是显示有多少行没有被匹配到。\n　　-o ：只显示被模式匹配到的字符串。\n　　--color :将匹配到的内容以颜色高亮显示。\n　　-A  n：显示匹配到的字符串所在的行及其后n行，after\n　　-B  n：显示匹配到的字符串所在的行及其前n行，before\n　　-C  n：显示匹配到的字符串所在的行及其前后各n行，context\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("ol",{attrs:{start:"4"}},[a("li",[s._v("示例")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("#单个文件中查找关键词\ngrep 'Class 1' Students.txt\n\n#从多个文件中查找关键词\ngrep \"omc\" /etc/passwd /etc/shadow\n\n#查找多个字符串\ngrep -e 'Class 1' -e Todd Students.txt\n\n#可以将-r开关与grep一起使用，以递归方式搜索目录及其子目录中的所有文件\ngrep -r pattern /directory/to/search\n\n#查找string1 或 string2\ngrep -E 'string1|string2' filename\n\n#上下文的控制\n# A   查询匹配内容的一行之外，后n行的显示\n# B   查询匹配内容的一行之外，前n行的显示\n# C   查询匹配内容的一行之外，显示上下n行\n# 以下为匹配yum 所在行及其后三行\ngrep -n 'yum' -A 3 logs_bak.txt\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br")])]),a("ol",{attrs:{start:"5"}},[a("li",[s._v("参考链接")])]),s._v(" "),a("blockquote",[a("p",[s._v("https://www.cnblogs.com/ftl1012/p/grep.html\nhttps://cloud.tencent.com/developer/article/1554542")])]),s._v(" "),a("h2",{attrs:{id:"用途"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#用途"}},[s._v("#")]),s._v(" 用途")]),s._v(" "),a("ol",[a("li",[s._v("linux 分区扩容\n参考链接:")])]),s._v(" "),a("blockquote",[a("p",[s._v("https://blog.csdn.net/qq_31283333/article/details/108014043")])]),s._v(" "),a("h2",{attrs:{id:"故障排查"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#故障排查"}},[s._v("#")]),s._v(" 故障排查")]),s._v(" "),a("h3",{attrs:{id:"服务器宕机了怎么办"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#服务器宕机了怎么办"}},[s._v("#")]),s._v(" 服务器宕机了怎么办？")]),s._v(" "),a("blockquote",[a("p",[s._v("启动机器，看能否登陆，如果能登陆，请检查:")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("a、是否是应用程序导致内存溢出或者泄露导致\nb、是否是进程过多或者不断创建，耗尽资源导致\nc、是否是数据库程序死锁，连接数过多导致\nd、是否是应用程序异常导致\ne、是否是流量负载过大导致\nf、 是否是遭受黑客入侵攻击导致\ng、是否是误操作导致\n如果无法查看故障现场，则可以查询系统日志查看是否有异常记录。\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h3",{attrs:{id:"linux经常死机、卡住"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux经常死机、卡住"}},[s._v("#")]),s._v(" Linux经常死机、卡住")]),s._v(" "),a("p",[s._v("linux操作系统服务器在出现死机或卡顿情况，可以参考以下项目进行整体排查：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("a、检查服务器进程与服务否占用了太多的内存或是没有释放内存，当服务器内存用完后，然后就会很快宕机；\nb、看看/var/spool/cron 里面是不是有cron（计划任务、自动任务）在对应时间段内执行；\nc、检查web服务器的参数是否超过了服务器的性能，如允许最大连接数过高等；\nd、进程数很高，服务瘫痪，机器假死（例如zombie进程是否过多，一直占用资源）；\ne、cat  /var/log/message查看系统日志是否有异常\nf、检查磁盘是否有坏块。（可使用badblocks命令配合参数）\ng、内核消耗过大，查看是否有瞬间资源占用过大的进程或服务；\nh、ps -ef 查看进程异常否，是否存在攻击\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])])])}),[],!1,null,null,null);a.default=t.exports}}]);